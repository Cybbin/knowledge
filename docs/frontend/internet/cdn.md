# CDN
Content Delivery Network，内容分发网络。

### 组成
* 分发服务系统：
* 负载均衡系统：
* 运营管理系统：

---

### 使用
修改 DNS 解析，设置一个 CNAME 指向 CDN 服务商。

---

### 过程：
1. 访问 URL 时，经过 DNS 解析，指向 CDN 专用 DNS 服务器；
2. CDN 的 DNS 服务器将 CDN 的全局负载均衡设备 IP 地址返回给用户；
3. 用户向负载均衡设备发起请求；
4. 负载均衡设备根据用户的 IP 地址，请求的 URL，返回一台“最优”缓存服务器 IP，告诉用户向这台设备发起请求；
5. 用户向缓存服务器发起请求；
6. 缓存服务器如果没有该请求的内容，就向上一级缓存服务器请求，直至追溯到网站的源服务器，将内容拉到本地缓存

---

### 优点
1. 加速，加快访问速度
2. 消除运营商之间的关系，保证不同网络的用户都能得到良好的访问质量
3. 远程加速，自动选择缓存服务器；
4. 带宽优化，分担网络流量，减轻压力
5. 承担更大流量，防攻击；
6. 节约成本。

---

### 回源
当 CDN 缓存服务器中没有符合客户端所需要的资源 时，该缓存服务器会请求上一级缓存服务器，直至追溯到网站的源服务器。

发生场景：
1. 资源过期；
2. 没有资源；
3. 资源为不缓存资源。